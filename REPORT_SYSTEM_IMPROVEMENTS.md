# ๐ ุจูุจูุฏูุง ุณุณุชู ฺฏุฒุงุฑุดโุฏู

## โ ุฎูุงุตู

ุณุณุชู ฺฏุฒุงุฑุดโุฏู ุฏุงูุดโุขููุฒุงู **ูุจูุงู ูพุงุฏูโุณุงุฒ ุดุฏู** ู ฺฉุงููุงู ฺฉุงุฑ ูโฺฉูุฏ! ุชููุง ฺุฒ ฺฉู ุงุถุงูู ุดุฏ ููุงุด ุฑูฺฏ ูุถุนุช ฺฏุฒุงุฑุดโูุง ุฏุฑ ูพูู ุงุฏูู ุงุณุช.

---

## ๐ฏ ูุถุนุช ูุนู ุณุณุชู

### โ ูุงุจูุชโูุง ููุฌูุฏ:

1. **ุขูพููุฏ ูุงู (ูุจูุงู ูพุงุฏูโุณุงุฒ ุดุฏู):**
   - โ ฺฉุงููพูููุช `ReportSubmissionForm.tsx` ุฏุงุฑุง ูุงุจูุช ุขูพููุฏ ูุงู
   - โ ุงุฒ ุณุณุชู Presigned URL ุจุฑุง ุขูพููุฏ ุจู S3 ุงุณุชูุงุฏู ูโฺฉูุฏ
   - โ Hook `usePresignedUpload` ุจุฑุง ูุฏุฑุช ุขูพููุฏ
   - โ ููุงุด Progress Bar ุญู ุขูพููุฏ
   - โ ููุฏ `fileUrl` ุฏุฑ ูุฏู Prisma `Report`
   - โ API `/api/student/upload-url` ุจุฑุง ุฏุฑุงูุช URL ุขูพููุฏ
   - โ API `/api/student/reports` ุจุฑุง ุฐุฎุฑู ฺฏุฒุงุฑุด ููุฑุงู ุจุง ูุงู

2. **ุซุจุช ฺฏุฒุงุฑุด:**
   - โ ูุฑู ฺฉุงูู ุจุง ุชูุงู ููุฏูุง (ุชุงุฑุฎุ ููุถูุนุ ููุจุน ุชุณุชุ ุชุนุฏุงุฏ ุชุณุชุ ุณุงุนุช ูุทุงูุนูุ ุชูุถุญุงุชุ ูุงู)
   - โ Validation ุจุง Yup ู React Hook Form
   - โ ุฐุฎุฑู ุฏุฑ ุฏุชุงุจุณ ุจุง Prisma

3. **ููุงุด ฺฏุฒุงุฑุดโูุง:**
   - โ ูุณุช ฺฏุฒุงุฑุดโูุง ุจุง pagination
   - โ ููุชุฑ ุจุฑ ุงุณุงุณ ุฏูุฑู (ููุชฺฏุ ูุงูุงููุ ููู)
   - โ ููุงุด ุจุงุฒุฎูุฑุฏ ุงุฏูู

---

## ๐ ุชุบุฑุงุช ุฌุฏุฏ

### 1. ููุงุด ุฑูฺฏ ูุถุนุช ุฏุฑ ูพูู ุงุฏูู โ

**ูุงู:** `src/components/admin/ReportsTable.tsx`

**ุชุบุฑุงุช:**

#### ุงูู) ุงุถุงูู ุดุฏู ฺฉุงููพูููุช StatusBadge:
```typescript
const StatusBadge = ({ status }: { status: 'PENDING' | 'APPROVED' | 'REJECTED' }) => {
  const baseClasses = 'px-3 py-1 text-xs font-semibold rounded-full inline-block';

  switch (status) {
    case 'APPROVED':
      return <span className={`${baseClasses} bg-green-100 text-green-800`}>ุชุฃุฏ ุดุฏู</span>;
    case 'REJECTED':
      return <span className={`${baseClasses} bg-red-100 text-red-800`}>ุฑุฏ ุดุฏู</span>;
    case 'PENDING':
    default:
      return <span className={`${baseClasses} bg-yellow-100 text-yellow-800`}>ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณ</span>;
  }
};
```

#### ุจ) ุงุณุชูุงุฏู ุงุฒ Badge ุฏุฑ ุฌุฏูู:
```typescript
<td>
  <StatusBadge status={r.status} />
</td>
```

#### ุฌ) ุงุถุงูู ุดุฏู ุณุชูู ูุงู:
```typescript
<td>
  {r.fileUrl ? (
    <a 
      href={r.fileUrl} 
      target="_blank" 
      rel="noopener noreferrer"
      className="text-teal-600 hover:text-teal-700 text-xs"
    >
      ูุดุงูุฏู
    </a>
  ) : (
    <span className="text-gray-400 text-xs">โ</span>
  )}
</td>
```

---

## ๐ธ ููุงุด ูุถุนุชโูุง

### ๐ก PENDING (ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณ)
- ุฑูฺฏ: ุฒุฑุฏ (bg-yellow-100, text-yellow-800)
- ูุชู: "ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณ"

### ๐ข APPROVED (ุชุฃุฏ ุดุฏู)
- ุฑูฺฏ: ุณุจุฒ (bg-green-100, text-green-800)
- ูุชู: "ุชุฃุฏ ุดุฏู"

### ๐ด REJECTED (ุฑุฏ ุดุฏู)
- ุฑูฺฏ: ูุฑูุฒ (bg-red-100, text-red-800)
- ูุชู: "ุฑุฏ ุดุฏู"

---

## ๐๏ธ ุณุงุฎุชุงุฑ ุณุณุชู ุขูพููุฏ ููุฌูุฏ

### Flow ุขูพููุฏ ูุงู:

```
1. ฺฉุงุฑุจุฑ ูุงู ุฑุง ุงูุชุฎุงุจ ูโฺฉูุฏ
           โ
2. usePresignedUpload ูุฑุงุฎูุงู ูโุดูุฏ
           โ
3. POST /api/student/upload-url
   โ ุจุงุฒฺฏุดุช: { uploadUrl, fileKey, contentType, maxSize }
           โ
4. ุขูพููุฏ ูุณุชูู ุจู S3 ุจุง PUT request
           โ
5. ุจุนุฏ ุงุฒ ููููุชุ fileKey ุฐุฎุฑู ูโุดูุฏ
           โ
6. POST /api/student/reports ุจุง fileKey
           โ
7. ุชุจุฏู fileKey ุจู fileUrl (getPublicUrl)
           โ
8. ุฐุฎุฑู report ุฏุฑ ุฏุชุงุจุณ ุจุง fileUrl
```

---

## ๐ ูุงูโูุง ูุฑุชุจุท

### ฺฉุงููพูููุชโูุง:
- โ `src/components/student/ReportSubmissionForm.tsx` - ูุฑู ุซุจุช ฺฏุฒุงุฑุด ุจุง ุขูพููุฏ
- โ `src/components/student/ReportsList.tsx` - ูุณุช ฺฏุฒุงุฑุดโูุง ุฏุงูุดโุขููุฒ
- โ `src/components/admin/ReportsTable.tsx` - ุฌุฏูู ฺฏุฒุงุฑุดโูุง (ุจูโุฑูุฒุฑุณุงู ุดุฏู)
- โ `src/components/admin/FeedbackModal.tsx` - ูุฏุงู ุจุงุฒุฎูุฑุฏ ุงุฏูู

### Hooks:
- โ `src/hooks/student/usePresignedUpload.ts` - ูุฏุฑุช ุขูพููุฏ ูุงู
- โ `src/hooks/student/useStudentReports.ts` - ูุฏุฑุช ฺฏุฒุงุฑุดโูุง
- โ `src/hooks/admin/useAdminReports.ts` - ฺฏุฒุงุฑุดโูุง ุจุฑุง ุงุฏูู

### Controllers:
- โ `src/server/controllers/student/upload-url.ts` - ุงุฌุงุฏ Presigned URL
- โ `src/server/controllers/student/reports.ts` - CRUD ฺฏุฒุงุฑุดโูุง
- โ `src/server/controllers/admin/reports.ts` - ูุฏุฑุช ฺฏุฒุงุฑุดโูุง ุจุฑุง ุงุฏูู

### Services:
- โ `src/server/services/storage/s3.ts` - ุนููุงุช S3

---

## ๐งช ุชุณุช

### ุชุณุช ุขูพููุฏ ูุงู (ูุจูุงู ฺฉุงุฑ ูโฺฉุฑุฏ):
```
1. Login ุฏุงูุดโุขููุฒ
2. ุฑูุชู ุจู ุตูุญู ุซุจุช ฺฏุฒุงุฑุด
3. ุงูุชุฎุงุจ ูุงู
4. ูพุฑ ฺฉุฑุฏู ูุฑู
5. ุซุจุช ฺฏุฒุงุฑุด
โ ูุงู ุจุงุฏ ุขูพููุฏ ุดูุฏ ู progress bar ููุงุด ุฏุงุฏู ุดูุฏ
```

### ุชุณุช ููุงุด Badge (ุฌุฏุฏ):
```
1. Login ุงุฏูู
2. ุฑูุชู ุจู ูุณุช ฺฏุฒุงุฑุดโูุง
3. ูุดุงูุฏู ุณุชูู ูุถุนุช
โ ุจุฌุง ูุชู ุณุงุฏูุ Badge ุฑูฺฏ ููุงุด ุฏุงุฏู ูโุดูุฏ:
   - ๐ก ุฒุฑุฏ: ุฏุฑ ุงูุชุธุงุฑ ุจุฑุฑุณ
   - ๐ข ุณุจุฒ: ุชุฃุฏ ุดุฏู
   - ๐ด ูุฑูุฒ: ุฑุฏ ุดุฏู
```

### ุชุณุช ูุดุงูุฏู ูุงู (ุฌุฏุฏ):
```
1. Login ุงุฏูู
2. ุฑูุชู ุจู ูุณุช ฺฏุฒุงุฑุดโูุง
3. ฺฉูฺฉ ุฑู "ูุดุงูุฏู" ุฏุฑ ุณุชูู ูุงู
โ ูุงู ุจุงุฏ ุฏุฑ tab ุฌุฏุฏ ุจุงุฒ ุดูุฏ
```

---

## ๐จ ุงุณุชุงูโูุง

### Tailwind Classes ุงุณุชูุงุฏู ุดุฏู:

- **Badge Container:** `px-3 py-1 text-xs font-semibold rounded-full inline-block`
- **Approved:** `bg-green-100 text-green-800`
- **Rejected:** `bg-red-100 text-red-800`
- **Pending:** `bg-yellow-100 text-yellow-800`
- **Link:** `text-teal-600 hover:text-teal-700`

---

## ๐ ูฺฉุงุช ููู

1. **ุณุณุชู ุขูพููุฏ ูุจูุงู ฺฉุงูู ุจูุฏ** - ูุงุฒ ุจู ุชุบุฑ ุง ุงูุฒูุฏู ูุจูุฏ
2. **ููุท UI ุงุฏูู ุจูุจูุฏ ุงูุช** - Badge ูุง ุฑูฺฏ ุจุฑุง ุฎูุงูุง ุจูุชุฑ
3. **ุจุฏูู ุชุบุฑ ุฏุฑ API** - ุชูุงู backend ูุง ุฏุณุช ูุฎูุฑุฏู ุจุงู ูุงูุฏูุฏ
4. **ุณุงุฒฺฏุงุฑ ฺฉุงูู** - ุจุง ุณุงุฎุชุงุฑ ููุฌูุฏ ูพุฑูฺู

---

## โ ุฎูุงุตู ููุง

### ูุจูุงู ููุฌูุฏ ุจูุฏ:
- โ ุขูพููุฏ ูุงู
- โ Progress Bar
- โ Presigned URL
- โ ุฐุฎุฑู ุฏุฑ S3
- โ ุฐุฎุฑู URL ุฏุฑ ุฏุชุงุจุณ

### ุฌุฏุฏ ุงุถุงูู ุดุฏ:
- โ Badge ูุง ุฑูฺฏ ุจุฑุง ูุถุนุช
- โ ุณุชูู ุฌุฏุงฺฏุงูู ุจุฑุง ูุงู
- โ ููฺฉ ูุดุงูุฏู ูุงู

---

**ุชุงุฑุฎ:** 2025-10-12  
**ูุถุนุช:** โ ฺฉุงูู ู ุจุฏูู ุขุณุจ ุจู ุณุงุช

